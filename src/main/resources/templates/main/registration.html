<html lang="en" xmlns:th="http://www.thymeleaf.org">
<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
    <title>Регистрация</title>
    <link href="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0-beta/css/bootstrap.min.css"
          rel="stylesheet" integrity="sha384-/Y6pD6FV/Vv2HJnA6t+vslU6fwYXjCFtcEpHbNJ0lyAFsXTsjBbfaDjzALeQsN6M" crossorigin="anonymous">
    <link href="/css/main.css" th:href="@{/css/main.css}" rel="stylesheet"/>
</head>
<body>

<nav class=" navbar navbar-expand navbar-light bg-light">

    <!--<nav class="navbar">
        <a class="navbar-brand">
            <img src="img/logo.jpg" width="30" height="30" alt="">
        </a>
    </nav>-->

    <button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbarNav" aria-controls="navbarNav" aria-expanded="false" aria-label="Toggle navigation">
        <span class="navbar-toggler-icon"></span>
    </button>

    <div class="collapse navbar-collapse" id="navbarNav">
        <ul class="navbar-nav">
            <li class="nav-item active">
                <a class="nav-link" href="/login">Вход <span class="sr-only">(current)</span></a>
            </li>
            <li class="nav-item">
                <a class="nav-link" href="/aboutApp">О приложении</a>
            </li>
            <li class="nav-item">
                <a class="nav-link" href="/aboutMe">Об авторе</a>
            </li>
        </ul>
    </div>
</nav>

    <div class="container my-5">
        <div id="login-row" class="row justify-content-center align-items-center bg-light p-2 rounded">
            <div id="login-column" class="col-md-6">
                <div id="login-box" class="col-md-12">
                    <form id="login-form" class="form" action="/registration" method="post" th:object="${patient}">
                        <h3 class="text-center text-secondary mt-3">Регистрация</h3>
                        <div class="form-group">
                            <label for="login" class="text-secondary">Логин:</label><br>
                            <input type="text" name="login" id="login" class="form-control" required th:field="*{login}"
                                   pattern="^[a-zA-Z0-9_.-]{3,255}$" title="3-255 символов без кириллицы">
                        </div>
                        <div class="form-group">
                            <label for="password" class="text-secondary">Пароль:</label><br>
                            <input type="password" name="password" id="password" class="form-control" required th:field="*{password}"
                                   pattern="^[a-zA-Z0-9_.-]{3,255}$" title="3-255 символов без кириллицы">
                        </div>
                        <div class="form-group">
                            <label for="name" class="text-secondary">Имя:</label><br>
                            <input type="text" name="name" id="name" class="form-control" required th:field="*{name}"
                                   pattern="^[а-яА-ЯёЁ]{3,30}$" title="3-30 символов кириллица">
                        </div>
                        <div class="form-group">
                            <label for="surname" class="text-secondary">Фамилия:</label><br>
                            <input type="text" name="surname" id="surname" class="form-control" required th:field="*{surname}"
                                   pattern="^[а-яА-ЯёЁ]{3,30}$" title="3-30 символов кириллица">
                        </div>

                        <div class="form-group">
                            <label for="dob" class="text-secondary">Дата Рождения:</label><br>
                            <input type="date" name="dob" id="dob" class="form-control" required th:field="*{dob}">
                        </div>

                        <script>
                            let today = new Date();
                            let dd = today.getDate();
                            let mm = today.getMonth()+1; //January is 0!
                            let yyyy = today.getFullYear();
                            if(dd<10){
                                dd='0'+dd
                            }
                            if(mm<10){
                                mm='0'+mm
                            }

                            today = yyyy+'-'+mm+'-'+dd;
                            document.getElementById("dob").setAttribute("max", today);
                        </script>

                        <div class="form-group">
                            <input type="submit" name="submit" class="btn btn-light btn-md border" value="Зарегистрироваться">
                        </div>

                        <div id="register-link" class="text-right">
                            <a href="/login" class="text-secondary">Вход</a>
                        </div>

                        <div th:if="${message}">
                            <p th:text="${message}"></p>
                        </div>
                    </form>
                </div>
            </div>
            <footer class="mt-5 p-3 text-small bg-light myfooter">
                <p class="text-muted text-center">© 2021 Atamyrat Khozhaev</p>
            </footer>
        </div>
    </div>



</body>
</html>